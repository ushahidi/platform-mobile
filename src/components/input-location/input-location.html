<div class="input-location" [class.invalid]="attribute.required == true && latitude == null && longitude == null && submitted == true">
  <ion-item no-lines [formGroup]="formGroup">
    <ion-label class="input-label">
      {{attribute.label}}
      <span ion-text color="danger" *ngIf="attribute.required == true">*</span>
    </ion-label>
    <div [formGroupName]="attribute.key">
      <ion-input type="text" hidden formControlName="lat" [(ngModel)]="latitude"></ion-input>
      <ion-input type="text" hidden formControlName="lon" [(ngModel)]="longitude"></ion-input>
    </div>
  </ion-item>
  <ion-card margin-left margin-right *ngIf="latitude && longitude && map">
    <img full [src]="map" (error)="this.display='none'" />
  </ion-card>
  <button ion-button margin-left icon-left text-uppercase small color="light" *ngIf="latitude && longitude" (click)="updateLocation($event)">
    <ion-icon name="pin"></ion-icon> Change Location
  </button>
  <p class="input-error" padding-left *ngIf="attribute.required == true && latitude == null && longitude == null && submitted == true">Location required</p>
  <p class="input-error" padding-left *ngIf="error == true">There was an error obtaining your current location.</p>
</div>
